<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: barChart.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: barChart.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>'use strict'

var constants = require('../lib/constants.js');
var framework = require('eze-e2e-webframework');
var barChart = require('../pageObjects/Controls/barChart_control.js');
var barChartSettings = require('../pageObjects/Controls/barChart_settings_control.js');
var utils = require('../lib/utils.js');

module.exports = {

    /** 
     * Add a BarChart widget to an Analytics workroom.
     * 
     * @param {int} barChartWidgetId - the identifier of the widget.
    */
    addAnalyticsBarChartWidget: function(barChartWidgetId) {
        framework.utils.dismissAllNotificationsIfAny();
        framework.dashboard.addWidget(constants.AnalyticsProductName, constants.BarChart);
        barChart.checkIfBarChartLoaded(barChartWidgetId);
    },

    /** 
     * Change title with a given input string.
     * 
     * @param {int} barChartWidgetId - the identifier of the widget.
     * @param {string} newTitle - new title name to replace existing title.
     */
    changeTitle: function(barChartWidgetId, newTitle) {
        barChartSettings.changeTitleField(newTitle);
    },

    /**
     *   Change aggregation field in the Bar Chart widget settings.
     * 
     *   @param {int} barChartWidgetId - the identifier of the widget
     *   @param {string[]} aggregationInput - Array of aggregations to filter on.
     */
    changeAggregation: function(barChartWidgetId, aggregationInput) {
        barChartSettings.changeAggregationField(aggregationInput);
    },

    /** 
     * Change front-end portfolio field with a given array of inputs.
     * 
     * @param {int} barChartWidgetId - the identifier of the widget.
     * @param {string[]} portfolioInput - Array of Portfolios to filter on.
     */
    changeFrontEndPortfolio: function(barChartWidgetId, portfolioInput) {
        barChart.changeFrontEndPortfolioField(barChartWidgetId, portfolioInput);
        barChart.checkIfBarChartLoaded(barChartWidgetId);
    },

    /** 
     * Change widget settings portfolio field with a given array of inputs.
     * 
     * @param {int} barChartWidgetId - the identifier of the widget.
     * @param {string[]} portfolioInput - Array of Portfolios to filter on.
     */
    changeWidgetSettingsPortfolio: function(barChartWidgetId, portfolioInput) {
        barChartSettings.changeWidgetSettingsPortfolioField(portfolioInput);
    },

    /** 
     * Change widget settings view configuration with a given input.
     * 
     * @param {int} barChartWidgetId - the identifier of the widget.
     * @param {string} viewConfigurationInput - view configuration to select.
     */
    changeViewConfiguration: function(barChartWidgetId, viewConfigurationInput) {
        barChartSettings.changeViewConfigurationField(viewConfigurationInput);
    },

    /** 
     * Change included position states field with a given position state.
     * 
     * @param {int} barChartWidgetId - the identifier of the widget.
     * @param {string} positionStateInput - position state input to select.
     */
    changeIncludedPositionStates: function(barChartWidgetId, positionStateInput) {
        barChartSettings.changeIncludedPositionStatesField(positionStateInput);
    },

    /** 
     * Change flexible basis column field with a given input column name.
     * 
     * @param {int} barChartWidgetId - the identifier of the widget.
     * @param {string} flexibleBasisInput - flexible basis column to select.
     */
    changeFlexibleBasisColumn: function(barChartWidgetId, flexibleBasisInput) {
        barChartSettings.changeFlexibleBasisColumnField(flexibleBasisInput);
    },

    /** 
     * Clicks "Include Only Selected Portfolios in the Aggregate Basis" checkbox based on desired selection value.
     * 
     * @param {int} barChartWidgetId - the identifier of the widget.
     * @param {boolean} includeSelectedPortfolioForAggregateBasis - whether or not to have checkbox checked/unchecked.
     */
    clickIncludeSelectedPortfolioForAggregateBasisCheckbox: function(barChartWidgetId, includeSelectedPortfolioForAggregateBasis) {
        barChartSettings.clickIncludeSelectedPortfolioForAggregateBasisField(includeSelectedPortfolioForAggregateBasis);
    },

    /** 
     * Change pre aggregation filter field with a given input selection.
     * 
     * @param {int} barChartWidgetId - the identifier of the widget.
     * @param {string} preAggregationInput - dropdown option to select.
     */
    changePreAggregationFilter: function(barChartWidgetId, preAggregationInput) {
        barChartSettings.changePreAggregationField(preAggregationInput);
    },

    /** 
     * Clicks "Include Cash Positions" checkbox based on desired selection value.
     * 
     * @param {int} barChartWidgetId - the identifier of the widget.
     * @param {boolean} includeCashPositions - whether or not to have checkbox checked/unchecked.
     */
    clickIncludeCashPositionsCheckbox: function(barChartWidgetId, includeCashPositions) {
        barChartSettings.clickIncludeCashPositionsField(includeCashPositions);
    },

    /** 
     * Clicks "Include Closed Positions" checkbox based on desired selection value.
     * 
     * @param {int} barChartWidgetId - the identifier of the widget.
     * @param {boolean} includeClosedPositions - whether or not to have checkbox checked/unchecked.
     */
    clickIncludeClosedPositionsCheckbox: function(barChartWidgetId, includeClosedPositions) {
        barChartSettings.clickIncludeClosedPositionsField(includeClosedPositions);
    },

    /** 
     * Open widget settings of a given analytics bar chart.
     * 
     * @param {int} barChartWidgetId - the identifier of the widget.
     */
    openWidgetSettings: function(barChartWidgetId) {
        barChart.clickWidgetSettingsButton(barChartWidgetId);
    },

    /** 
     * Click apply button on widget settings window and reload bar chart.
     * 
     * @param {int} barChartWidgetId - the identifier of the widget.
     */
    applyWidgetSettingsAndReload: function(barChartWidgetId) {
        barChartSettings.clickApplyButton();
        barChart.checkIfBarChartLoaded(barChartWidgetId);
    },

    /**
     *   Return name of analytics bar chart title.
     * 
     *   @param {int} barChartWidgetId - the identifier of the widget.
     *   @return {string} bar chart title returned.
     */
    getTitle: function(barChartWidgetId) {
        return barChart.getBarChartTitle(barChartWidgetId);
    },
    
    /**
     *   Get number of bars from a given bar chart.
     * 
     *   @param {int} barChartWidgetId - the identifier of the widget.
     *   @return {int} number of bars in bar chart.
     */
    getBarCount: function(barChartWidgetId) {
        return barChart.getAnalyticsBarChartCount(barChartWidgetId);
    },

    /** 
     * Get all values from bar chart widget.
     * 
     * @param {int} barChartWidgetId - the identifier of the widget.
     * @return {string[]} array of bar chart values.
     */
    getAnalyticsBarChartValues: function(barChartWidgetId) {
        browser.sleep(1500);    //needs to wait for bar chart animation
        return barChart.getAnalyticsBarChartValues(barChartWidgetId);
    },

    /** 
     * Verify Bar Chart has bars
     * 
     * @param {int} barChartWidgetId - the identifier of the widget.
     */
    verifyBarChartNotEmpty: function(barChartWidgetId) {
        expect(this.getBarCount(barChartWidgetId)).toBeGreaterThan(0);
    },

    /**
     *   Get number of bars from a given bar chart.
     * 
     *   @param {int} barChartWidgetId - the identifier of the widget.
     *   @param {int} bars - number of expected bars in bar chart.
     */
    verifyNumberOfBars: function(barChartWidgetId, bars) {
       expect(this.getBarCount(barChartWidgetId)).toBe(bars * 2);
    },

    /** 
     * Check that a bar chart has a certain aggregation
     * 
     * @param {int} barChartWidgetId - the identifier of the widget.
     * @param {string} aggregationName - column name by which to obtain values.
     */
    verifyBarChartAggregation: function(barChartWidgetId, aggregationName) {
        var dropdown = element(By.id("cboAggregation_taglist"));
        var aggregation = dropdown.element(By.css("span[unselectable = 'on']"));
        aggregation.getText()
        .then((text)=>{
            console.log("The Aggregation is " + text);
            expect(text).toBe(aggregationName);   
        });  
    },

    /** 
     * Check that a bar chart has a certain portfolio filter
     * 
     * @param {int} barChartWidgetId - the identifier of the widget.
     * @param {string} selectedPort - portfolio you expected to be filtered on.
     */
    verifyPortfolioFilter: function(barChartWidgetId, selectedPort) {
        var dropdown = element.all(By.id("multiSelectPortfolio_taglist")).last();
        var port = dropdown.element(By.css("span[unselectable = 'on']"));
        port.getText()
        .then((text)=>{
            console.log("The Portfolio filter is " + text);
            expect(text).toBe(selectedPort);   
        });  
    },

    /** 
     * Check bar chart widget settings are the correct configuration based on input settings
     * 
     * @param {object} widgetSettings - object of widget settings that should be configured against.
     */
    verifyBarChartWidgetSettings: function(widgetSettings) {
        barChartSettings.verifyBarChartWidgetSettings(widgetSettings);
    }
    
}    </code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="analyticsGrid.html">analyticsGrid</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.1</a> on Thu Jul 13 2017 14:43:51 GMT-0400 (Eastern Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
